@model IEnumerable<ColoradoLuxury.Models.BLL.VehicleType>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Areas/WebCms/Views/Shared/_Layout.cshtml";
}

<style>
    .dataTables_length {
        display: none;
    }

    .dataTables_filter {
        display: none;
    }

    .btn-outline-secondary {
        margin-bottom: 10px
    }
</style>

<div class="col-md-5 my-4">
    <div class="card shadow mb-4">
        <div class="card-header py-4">
            Nwe Vehicles Type Add
        </div>
        <div class="card-body">
            <a href="AddVehicleType" class="btn btn-outline-secondary">Add Vehicle Type</a>
            <div class="table-responsive">
                <table class="table table-bordered table-striped table-shorting" id="dataTable">
                    <thead>
                        <tr>
                            <th scope="col">VEHICLE TYPE NAME</th>
                            <th scope="col">EDIT - DELETE</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (int i = 0; i < Model.Count(); i++)
                        {
                            <tr>
                                <td>@Model.ToArray()[i].TypeName</td>
                                <td>$@Model.ToArray()[i].PerMile</td>

                                <td>
                                    <div style="display:flex">
                                        <a asp-controller="VehicleType" asp-action="EditVehicleType" class="fas fa-fw fa-pencil-alt updateBtn btnForm" asp-route-Id="@Model.ToArray()[i].Id"></a>
                                        <a asp-controller="VehicleType" asp-action="DeleteVehicleType" asp-route-id="@Model.ToArray()[i].Id" class="btn text-warning" onclick="return confirm('Silmek istediğinizden emin misiniz?')" style=" padding: 1px 0.75rem;"><i class="fas fa-fw fa-trash"></i></a>
                                        <input type="checkbox" id="check@(i)" value="Value1" onclick="selectOnlyThis(this.id)" />
                                    </div>
                                </td>
                            </tr>
                        }

                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script src="/lib/jquery/jquery3.6.4/jquery3.6.4.js"></script>
<script>
    function selectOnlyThis(id) {
        for (var i = 0; i < @Model.Count(); i++) {
            var getCheckedInput = $(`#check${i}`);

            for (var index = 0; index < getCheckedInput[0].attributes.length; index++) {
                if (getCheckedInput[0].attributes[index].name == "checked") {
                    getCheckedInput.attr("checked", false);
                    getCheckedInput.prop("checked", false);
                    getCheckedInput.trigger("change");
                }
            }
        }
        $(`#${id}`).attr("checked", true);
    }
</script>
