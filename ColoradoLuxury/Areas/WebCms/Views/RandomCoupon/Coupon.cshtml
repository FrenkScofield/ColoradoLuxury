
@{
    ViewData["Title"] = "Coupon";
    Layout = "~/Areas/WebCms/Views/Shared/_Layout.cshtml";
}


<div class="row">
    <div class="col-md-12 my-4">
        <div class="card shadow mb-4">
            <div class="card-header py-4">
               Random Coupons
            </div>
            <div class="card-body">
                <div class="row">

                <div class="input-group  col-5">
                        <form>
                            <!-- Coupons input -->
                            <button class="btn btn-outline-secondary" style="height: 49px;" onclick="onClick();" id="generateCoupon" type="button">
                                CREATE NEW COUPON
                            </button>
                            <label class="form-label" >New Coupon</label>
                            <input disabled style="font-size: 23px;  text-transform: uppercase;" type="text" class="form-control" id="newCoupon" placeholder="Click Create" aria-label="" aria-describedby="basic-addon1">

                            <!-- Interest input -->
                            <div class="form-outline ">
                                <label class="form-label" >How Much Interest Discount</label>
                                <input type="number"  class="form-control" placeholder="%"/>
                            </div>

                            <!-- Discount input -->
                            <div class="form-outline ">
                                <label class="form-label">How Much Discount</label>
                                <input type="number"  class="form-control" placeholder="$" />
                            </div>

                            <!-- Coupons Code input -->

                            <label class="form-label couponCode"> Coupon Code</label>
                            <input disabled style="font-size: 23px;  text-transform: uppercase;" type="text" class="form-control" id="couponCode" aria-describedby="basic-addon1">
                            <!-- Submit button -->
                            <button type="submit" class="btn btn-primary btn-block ">SAVE</button>
                        </form>


                </div>
                <div class="input-group  col-7">
                    <table class="table">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">#</th>
                                    <th scope="col">Coupon</th>
                                    <th scope="col">Interest % </th>
                                    <th scope="col">Number $</th>
                                    <th scope="col">Code</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">1</th>
                                <td>Mark</td>
                                <td>Otto</td>
                                    <td>mdo</td>
                                    <td>mdo1</td>
                            </tr>
                            <tr>
                                <th scope="row">2</th>
                                <td>Jacob</td>
                                <td>Thornton</td>
                                    <td>fat</td>
                                    <td>fat1</td>
                            </tr>
                         
                        </tbody>
                    </table>
                </div>
                </div>
          
        </div>
    </div>
</div>
</div>

<script>
    function generateCoupon() { // Public Domain/MIT
        var d = new Date().getTime();//Timestamp
        var d2 = ((typeof performance !== 'undefined') && performance.now && (performance.now() * 1000)) || 0;//Time in microseconds since page-load or 0 if unsupported
        return 'xxxxyxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            var r = Math.random() * 16;//random number between 0 and 16
            if (d > 0) {//Use timestamp until depleted
                r = (d + r) % 16 | 0;
                d = Math.floor(d / 16);
            } else {//Use microseconds since page-load if supported
                r = (d2 + r) % 16 | 0;
                d2 = Math.floor(d2 / 16);
            }
            return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);
            generateCouponCode()
        });
    }

    //=========Coupon Code============
    function generateCouponCode() { // Public Domain/MIT
        var d = new Date().getTime();//Timestamp
        var d2 = ((typeof performance !== 'undefined') && performance.now && (performance.now() * 1000)) || 0;//Time in microseconds since page-load or 0 if unsupported
        return 'xxyxx'.replace(/[xy]/g, function (c) {
            var r = Math.random() * 16;//random number between 0 and 16
            if (d > 0) {//Use timestamp until depleted
                r = (d + r) % 16 | 0;
                d = Math.floor(d / 16);
            } else {//Use microseconds since page-load if supported
                r = (d2 + r) % 16 | 0;
                d2 = Math.floor(d2 / 16);
            }
            return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);
        });
    }
    //=====================

    var onClick = function () {
        document.getElementById('newCoupon').value = generateCoupon();
        document.getElementById('couponCode').value = generateCouponCode();
    }
    onClick();
</script>