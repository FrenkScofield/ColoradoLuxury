
@{
    ViewData["Title"] = "Coupon";
    Layout = "~/Areas/WebCms/Views/Shared/_Layout.cshtml";
}

<style>
    .dataTables_length{
        display:none;
    }

    .dataTables_filter {
        display: none;
    }


</style>

<div class="row">
    <div class="col-md-12 my-4">
        <div class="card shadow mb-4">
            <div class="card-header py-4">
               Random Coupons
            </div>
            <div class="card-body">
                <div class="row">

                    <div class="input-group  col-md-4">
                        <form>
                            <!-- Coupons input -->
                            <button class="btn btn-outline-secondary" style="height: 49px;" onclick="onClick();" id="generateCoupon" type="button">
                                CREATE NEW COUPON
                            </button>
                            <label class="form-label" >New Coupons</label>
                            <input disabled style="font-size: 23px;  text-transform: uppercase;" type="text" class="form-control" id="newCoupon" placeholder="Click Create" aria-label="" aria-describedby="basic-addon1">

                            <!-- Interest input -->
                            <div class="form-outline ">
                                <label class="form-label" >How Much Interest Discount</label>
                                <input type="number"  class="form-control" placeholder="%"/>
                            </div>

                            <!-- Discount input -->
                            <div class="form-outline ">
                                <label class="form-label">How Much Discount</label>
                                <input type="number"  class="form-control" placeholder="$" />
                            </div>

                            <!-- Coupons Code input -->

                            <label class="form-label couponCode"> Coupon Code</label>
                            <input disabled style="font-size: 23px;  text-transform: uppercase;" type="text" class="form-control" id="couponCode" aria-describedby="basic-addon1">
                            <!-- Submit button -->
                            <button type="submit" class="btn btn-success btn-block ">Add</button>
                        </form>


                </div>
                    <div class="col-md-8 my-4">
                        <div class="card shadow mb-4">
                            <div class="card-header py-4">
                                Nwe Cupon
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-bordered table-striped table-shorting" id="dataTable">
                                        <thead>
                                            <tr>
                                                <th scope="col">COUPON</th>
                                                <th scope="col">% INTEREST</th>
                                                <th scope="col"> $ DISCOUNT</th>
                                                <th scope="col">COUPON CODE</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @* @if (TempData["Orgs"] != null)
                                            {
                                            @foreach (var item in Model.OgrenciVeliBilgis)
                                            {
                                            <tr>
                                            <th scope="row">@item.ID</th>
                                            <td>@item.AD</td>
                                            <td>@item.SOYAD</td>
                                            <td>@item.TC_KIMLIK</td>
                                            <td>@item.ILISKI_DURUMU</td>
                                            <td>
                                            <div style="display:flex">

                                            <a asp-controller="VeliBilgi" asp-action="EditOgrenciVeliBilgi" class="fas fa-fw fa-pencil-alt updateBtn btnForm" asp-route-id="@item.ID"></a>
                                            <a asp-controller="VeliBilgi" asp-action="DeleteOgrenciVeliBilgi" asp-route-id="@item.ID" class="btn text-warning" onclick="return confirm('Silmek istediğinizden emin misiniz?')" style=" padding: 1px 0.75rem;"><i class="fas fa-fw fa-trash"></i></a>

                                            </div>
                                            </td>
                                            </tr>
                                            }
                                            }*@
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
          
        </div>
    </div>
</div>
</div>

<script>
    function generateCoupon() { // Public Domain/MIT
        var d = new Date().getTime();//Timestamp
        var d2 = ((typeof performance !== 'undefined') && performance.now && (performance.now() * 1000)) || 0;//Time in microseconds since page-load or 0 if unsupported
        return 'xxxxyxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            var r = Math.random() * 16;//random number between 0 and 16
            if (d > 0) {//Use timestamp until depleted
                r = (d + r) % 16 | 0;
                d = Math.floor(d / 16);
            } else {//Use microseconds since page-load if supported
                r = (d2 + r) % 16 | 0;
                d2 = Math.floor(d2 / 16);
            }
            return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);
            generateCouponCode()
        });
    }

    //=========Coupon Code============
    function generateCouponCode() { // Public Domain/MIT
        var d = new Date().getTime();//Timestamp
        var d2 = ((typeof performance !== 'undefined') && performance.now && (performance.now() * 1000)) || 0;//Time in microseconds since page-load or 0 if unsupported
        return 'xxyxx'.replace(/[xy]/g, function (c) {
            var r = Math.random() * 16;//random number between 0 and 16
            if (d > 0) {//Use timestamp until depleted
                r = (d + r) % 16 | 0;
                d = Math.floor(d / 16);
            } else {//Use microseconds since page-load if supported
                r = (d2 + r) % 16 | 0;
                d2 = Math.floor(d2 / 16);
            }
            return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);
        });
    }
    //=====================

    var onClick = function () {
        document.getElementById('newCoupon').value = generateCoupon();
        document.getElementById('couponCode').value = generateCouponCode();
    }
    onClick();
</script>